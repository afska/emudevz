main:
  run: |
    set((m) => m.chat.winOnEnd = true);
  messages:
  - ahora que sabes cÃ³mo implementar nuevos mappers (ğŸ“„  ~/docs/lib/Mapper.es.md~), te dejarÃ© agregar el siguiente
  - un mapper comÃºn que <realiza> bank-switching es <UxROM> (tambiÃ©n conocido como mapper 2)
  responses:
  - hagÃ¡moslo ğŸš€ [exercise]

exercise:
  messages:
  - |-
    ğŸ“š  crea una clase ğŸ“  `UxROM` que extienda `Mapper`:
    **constructor()**:
      **->** asigna ```javascript this.page = 0```
    **cpuRead(address)**:
      **->** si la `address` estÃ¡ entre $4020-$7FFF:
        **->** devuelve 0
      **->** si la `address` estÃ¡ entre $8000-$BFFF:
        **->** devuelve ```javascript this.$getPrgPage(this.page)[address - 0x8000]```
      **->** si la `address` estÃ¡ entre $C000-$FFFF:
        **->** devuelve ```javascript this.$getPrgPage(this.prgPages.length - 1)[address - 0xC000]```
    **cpuWrite(address, value)**:
      **->** si la `address` es >= $8000:
        **->** asigna `value` como la <pÃ¡gina actual>
    **ppuRead(address)**:
      **->** devuelve ```javascript this.$getChrPage(0)[address]```
    **ppuWrite(address, value)**:
      **->** si no ```javascript this.cartridge.header.usesChrRam```:
        **->** devuelve (solo CHR-RAM es escribible)
      **->** asigna ```javascript this.$getChrPage(0)[address] = value```
    **getSaveState()**:
      **->** devuelve un objeto que combina ```javascript super.getSaveState()``` con uno que incluye la <pÃ¡gina actual>
    **setSaveState(saveState)**:
      **->** llama a ```javascript super.setSaveState(saveState)``` pero tambiÃ©n restaura la <pÃ¡gina actual>
  - ğŸ“š  agrega tu clase `UxROM` a ğŸ“„  ~/code/mappers/mappers.js~
  - |-
    para probar este mapper, puedes correr uno de los siguientes juegos:
      ğŸ’¦ ğŸ›ï¸  <BÃ¶bl>
      ğŸ¦… ğŸ§·  <Crowborg>
      ğŸ¦Ÿ ğŸ³  <Filthy Kitchen>
      ğŸŒŒ ğŸ”«  <Isostasy Demo>
      ğŸ•Šï¸ ğŸ›°ï¸  <Spacegulls>
      ğŸ¦¸ ğŸ¤¸  <Super Tilt Bro>
      ğŸ­ ğŸ”©  <TroubleAt2A03>
      ğŸº ğŸŒ²  <WolfSpirit>
      ğŸº â›“ï¸  <Wolfling>
  responses:
  - â–¶ï¸  continuar [end]
