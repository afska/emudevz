---
main:
  messages:
  - you have to start somewhere ğŸ˜…
  - <{architecture_unified.png;100x100}>
  - as I said earlier, you can start coding things in any order
  - and I'll patch BrokenNEEES so that it uses parts of your emulator...
  run-after-messages: |
    $.goTo("components");
  responses: []

components:
  messages:
  - "ğŸ§   CPU: Choose this if you'd like to emulate concepts you've learned in the Assembly chapter."
  - "ğŸ–¥ï¸  PPU: Choose this if you want to go straight to the action and put graphics on the screen."
  - "ğŸ”Š  APU: Choose this if you are curious to learn how to reproduce the sound in games."
  - "ğŸ®  Controller: Choose this if you prefer to start mapping user inputs into memory, so that games can read them. BrokenNEEES's support for controllers works fine, so __this chapter is optional__."
  - "ğŸ—œï¸  Mappers: Choose this if you are obsessed with supporting as many games as possible. BrokenNEEES supports the most common mappers (0-4), so __this chapter is optional__."
  responses:
  - ğŸ§   I'd like to start with the CPU [cpu]
  - ğŸ–¥ï¸  I'd like to start with the PPU [ppu]
  - ğŸ”Š  I'd like to start with the APU [apu]
  - ğŸ®  I'd like to start with the Controller [controller]
  - ğŸ—œï¸  I'd like to start with the Mappers [mappers]

cpu:
  run: |
    const book = store.getState().book.instance;
    const chapter = book.getChapter(4);
    const firstLevelId = chapter.levels[0].id;
    store.dispatch.savedata.addCompletedLevelIfNeeded(level.id);
    store.dispatch.savedata.unlockChapter(firstLevelId);
    store.dispatch.savedata.advanceTo(firstLevelId);
  messages: []
  responses: []

ppu:
  run: |
    const book = store.getState().book.instance;
    const chapter = book.getChapter(5);
    const firstLevelId = chapter.levels[0].id;
    store.dispatch.savedata.addCompletedLevelIfNeeded(level.id);
    store.dispatch.savedata.unlockChapter(firstLevelId);
    store.dispatch.savedata.advanceTo(firstLevelId);
  messages: []
  responses: []

apu:
  run: |
    const book = store.getState().book.instance;
    const chapter = book.getChapter(6);
    const firstLevelId = chapter.levels[0].id;
    store.dispatch.savedata.addCompletedLevelIfNeeded(level.id);
    store.dispatch.savedata.unlockChapter(firstLevelId);
    store.dispatch.savedata.advanceTo(firstLevelId);
  messages: []
  responses: []

controller:
  run: |
    const book = store.getState().book.instance;
    const chapter = book.getChapter(7);
    const firstLevelId = chapter.levels[0].id;
    store.dispatch.savedata.addCompletedLevelIfNeeded(level.id);
    store.dispatch.savedata.unlockChapter(firstLevelId);
    store.dispatch.savedata.advanceTo(firstLevelId);
  messages: []
  responses: []

mappers:
  run: |
    const book = store.getState().book.instance;
    const chapter = book.getChapter(8);
    const firstLevelId = chapter.levels[0].id;
    store.dispatch.savedata.addCompletedLevelIfNeeded(level.id);
    store.dispatch.savedata.unlockChapter(firstLevelId);
    store.dispatch.savedata.advanceTo(firstLevelId);
  messages: []
  responses: []
