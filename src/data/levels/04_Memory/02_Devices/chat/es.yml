---
main:
  messages:
  - recuerda, cada componente de hardware tiene que estar conectado a la memoria
  - a medida que avances en tu desarrollo, tendrÃ¡s que actualizar tu clase `CPUMemory`, agregando los mapeos correctos
  - un dispositivo importante que tenemos que agregar es el ğŸ—œï¸  Mapper, el cual manejarÃ¡ todas las interacciones con el cÃ³digo de juego (ğŸ¤–  PRG-ROM)
  - hagamos recibir a nuestra memoria un montÃ³n de <dispositivos> ğŸ“±
  - |-
    ğŸ“š  _-_agrega a tu `CPUMemory` el siguiente mÃ©todo:_--_
    *_-_*onLoad(ppu, apu, mapper, controllers)**:_--_
      *_-_*->** guarda los parÃ¡metros como propiedades (~this.ppu~, ~this.apu~, ~this.mapper~, y ~this.controllers~)_--_
  - _-_luego, como hiciste antes con ~this.ram~, modifica `read(...)` y `write(...)` para dejar que ~this.mapper~ maneje el rango $4020-$FFFF_--_
  - _-_en lecturas, deberÃ­as retornar ~this.mapper.cpuRead(address)~_--_
  - _-_en escrituras, deberÃ­as llamar a ~this.mapper.cpuWrite(address, value)~ y retornar_--_
  responses:
  - (*) Â¿quiÃ©n llama al mÃ©todo `onLoad`? ğŸ¤” [who]
  - (*) Â¿quÃ© es un <mapper>? ğŸ—œï¸ [mapper]

who:
  messages:
  - al cargar un juego, <BrokenNEEES> llamarÃ¡ a este mÃ©todo automÃ¡ticamente âœ¨
  - para que la memoria tenga acceso al resto del hardware
  responses:
  - ...main

mapper:
  messages:
  - los <mappers> son circuitos dentro del cartucho que controlan cÃ³mo la consola lee la informaciÃ³n del ROM
  - cada juego usa un mapper especÃ­fico
  - mientras mÃ¡s mappers admita tu emulador, mÃ¡s juegos serÃ¡n compatibles ğŸ‘¾
  - <BrokenNEEES> soporta los mappers mÃ¡s comunes (0-4)
  - sorprendentemente, Â¡todos funcionan bien! ğŸ¤¯  asÃ­ que usarÃ¡s esos por ahora
  - y aprenderÃ¡s cÃ³mo agregar mÃ¡s en el capÃ­tulo de ğŸ—œï¸  Mappers
  responses:
  - ...main
