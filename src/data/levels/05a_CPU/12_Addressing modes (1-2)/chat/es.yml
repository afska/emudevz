---
main:
  messages:
  - Â¿recuerdas los <modos de direccionamiento> del capÃ­tulo de ensamblador?
  - <{compilation_full.png}>
  - bueno... es hora de emularlos ğŸ˜
  - hice una guÃ­a rÃ¡pida para ti
  - revisa ğŸ“„  ~/docs/cpu/addressing_modes.es.md~
  responses:
  - definitivamente voy a necesitar que me expliques esto un poco mÃ¡s [explain]

explain:
  messages:
  - seh
  - puedes ver que cada modo de direccionamiento tiene una <entrada> y una <salida>
  - â¬…ï¸  la <entrada> es el argumento de la operaciÃ³n (lo que sigue despuÃ©s del opcode, Â¿recuerdas?)
  - en `JMP ($4080)` la <entrada> serÃ­a $4080
  - â¡ï¸  la <salida> es lo que las instrucciones terminan recibiendo en realidad
  - (el argumento `address` en la funciÃ³n `run(...)` de tu instrucciÃ³n `JMP`)
  - en este caso, la <salida> serÃ­a el resultado de realizar una lectura de 16 bits a la direcciÃ³n $4080
  responses:
  - âœ…  ok, programemos esto [letscode]

letscode:
  messages:
  - en realidad ya codifiquÃ© algunos de estos modos
  - por lo que solo tendrÃ¡s que implementar "Relative" e "Indirect"
  - Â¡puedes tomar el cÃ³digo de ğŸ“„  ~/tmpl/cpu/addressingModes.js~ y continuar desde ahÃ­!
  - ğŸ“š  _-_implementa los modos de direccionamiento restantes_--_
  - ğŸ“š  _-_y exporta el objeto bajo la clave `addressingModes` en _--_ğŸ“„ _-_ ~/code/index.js~_--_
  responses:
  - ayÃºdame con el modo "Relative" ğŸ˜… [relative]
  - ayÃºdame con el modo "Indirect" ğŸ˜… [indirect]

relative:
  messages:
  - ğŸ’¡  recuerda que toma un "desplazamiento" (un byte con signo)
  - los bytes con signo pueden ser complicados de entender para los humanos
  - usan la notaciÃ³n "Two's component", que estÃ¡ explicada brevemente en ğŸ“„  ~/lib/byte.js~
  - por ejemplo, si el desplazamiento es ~-3~, recibirÃ­as un 253
  - puedes convertir ese 253 en ~-3~ usando el mÃ©todo `toS8`
  - ğŸ’¡  ademÃ¡s, para detectar si se cruza de pÃ¡gina, vas a necesitar `highByteOf`
  responses:
  - ...letscode

indirect:
  messages:
  - tienes una implementaciÃ³n completa en el archivo de documentaciÃ³n ğŸ˜Š
  - Â¡solo realiza un `read16` con la direcciÃ³n!
  responses:
  - ...letscode
