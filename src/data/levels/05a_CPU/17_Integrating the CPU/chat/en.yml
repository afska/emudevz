---
main:
  run: |
    level.launchEmulator();
    set((m) => m.chat.winOnEnd = true);
  messages:
  - now I'm gonna integrate your üß†  CPU into the emulator
  - this is a REALLY complex task
  - so it might take a while
  - tell me and I'll do it, whenever you want
  responses:
  - do it! üëÄ [doit]

doit:
  run: |
    level.startEffect("slow-earthquake");
  messages:
  - WOOOW
  - omg
  - this is so difficult
  - let's check...
  - oh crap
  - I messed everything up üòÖ
  - hmm...
  - argh
  - yesss
  - "__* intensely types code *__"
  run-after-messages: |
    setTimeout(() => {
      bus.emit("patching-end");
    }, 3000);
  events:
  - patching-end [done]

done:
  run: |
    level.stopEffect();
    book.unlock("useCPU");
  messages:
  - ‚úîÔ∏è  done!
  - now, the üß†  icon in the emulator will glow ‚ú®
  - try running some games! you'll notice a big improvement
  - the timing should be more consistent, and you won't face any bugs that affect game logic
  responses:
  - ‚ñ∂Ô∏è  continue [end]
