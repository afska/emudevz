---
main:
  run: |
    level.launchEmulator();
    set((m) => m.chat.winOnEnd = true);
  messages:
  - now I'm gonna integrate your ğŸ’»  CPU into the emulator
  - this is a REALLY complex task
  - so it might take a while
  - tell me and I'll do it, whenever you want
  responses:
  - do it! ğŸ‘€ [doit]

doit:
  run: |
    level.startEffect("slow-earthquake");
  messages:
  - WOOOW
  - omg
  - this is so difficult
  - let's check...
  - oh crap
  - I messed everything up ğŸ˜…
  - hmm...
  - argh
  - yesss
  - "__* intensely types code *__"
  run-after-messages: |
    setTimeout(() => {
      bus.emit("patching-end");
    }, 3000);
  events:
  - patching-end [done]

done:
  run: |
    level.stopEffect();
    book.unlock("useCPU");
  messages:
  - âœ”ï¸  done!
  - now, the ğŸ’»  icon in the emulator will glow âœ¨
  - try running some games! you'll notice a big improvement
  - the timing should be more consistent, and you won't face any bug that affects game logic
  responses:
  - â–¶ï¸  continue [end]
