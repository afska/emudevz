---
main:
  run: |
    if (m.$end) $.goTo("exercise");
  messages:
  - ey
  - Â¡mira tu directorio ~/docs~! ğŸ“
  responses:
  - Â¿quÃ© hay ahÃ­? [exercise]

exercise:
  run: |
    set((m) => m.$end = true);
  messages:
  - te enviÃ© algunos archivos
  - dos diagramas de la arquitectura de hardware
  - y un documento que describe el formato ~iNEEES~
  - puedes inspeccionarlos con el comando ~open~
  - quiero que lo veas y me digas si entiendes
  responses:
  - ğŸ¤”  creo que entiendo [understand]
  - (*) Â¿quÃ© es un mapper? ğŸ§  [mapper]
  - (*) Â¿quÃ© es mirroring? ğŸš½ [mirroring]
  - (*) por favor, define <PRG-ROM>, <CHR-ROM>, <PRG-RAM> y <CHR-RAM> ğŸ [memories]
  - (*) Â¿relleno? ğŸ§¸ [padding]
  - (*) Â¿quÃ© demonios es un "nybble"? ğŸ¦´ [nybble]

mapper:
  messages:
  - es como un "chip de expansiÃ³n" que todo juego tiene
  - ayudan a la consola a leer programas y datos grÃ¡ficos mÃ¡s grandes
  - y permiten que los juegos realicen operaciones mÃ¡s complejas como modificar el mirroring sobre la marcha
  - Â¡mÃ¡s sobre eso luego! ğŸ”œ
  responses:
  - ...exercise

mirroring:
  messages:
  - no importa demasiado por ahora
  - el mirroring afecta quÃ© se va a mostrar pasado el borde derecho e inferior de la pantalla
  - dependiendo del tipo de mirroring, la PPU usarÃ¡ diferentes secciones de memoria para dibujar fondos ğŸ¨
  responses:
  - ...exercise

memories:
  messages:
  - "ğŸ’»  <PRG-ROM>: memoria de solo lectura que contiene el programa"
  - "ğŸ‘¾  <CHR-ROM>: memoria de solo lectura que contiene los grÃ¡ficos"
  - "ğŸ‘¾  <CHR-RAM>: memoria escribible para poner grÃ¡ficos en tiempo de ejecuciÃ³n"
  - "ğŸ”‹  <PRG-RAM>: (opcional) memoria escribible para almacenar el progreso del juego"
  - cada juego usa <CHR-ROM> o <CHR-RAM>
  - si usa <CHR-RAM>, el archivo ~iNEEES~ no contendrÃ¡ su Ãºltima secciÃ³n de <CHR-ROM>
  responses:
  - ...exercise

padding:
  messages:
  - solo ceros, una parte del archivo que puedes ignorar
  responses:
  - ...exercise

nybble:
  messages:
  - un nybble es medio byte
  - por lo que "nybble inferior" significa los primeros 4 bits y "nybble superior" significa los Ãºltimos 4 bits
  responses:
  - ...exercise

understand:
  messages:
  - excelente ğŸ’ª
  - |-
    ğŸ“š  agreguemos una propiedad `header` a la clase `Cartridge`, con la siguiente forma:
    ```javascript {
      prgRomPages: 2, // (obtenido del byte 4)
      chrRomPages: 1, // (obtenido del byte 5)
      usesChrRam: false, // (true si chrRomPages === 0)
      has512BytePadding: false, // (obtenido de <Flags 6>)
      hasPrgRam: false, // (obtenido de <Flags 6>)
      mirroring: "VERTICAL", // (obtenido de <Flags 6>)
      mapperId: 4 // (obtenido de <Flags 6> y <Flags 7>)
    }```
  responses:
  - necesito un poco de ayuda ğŸ“ [bits]

bits:
  messages:
  - si no sabes cÃ³mo operar con bits, puedes usar mi biblioteca ğŸ“–
  - estÃ¡ en ~/lib/byte.js~, solo impÃ³rtala como otro mÃ³dulo mÃ¡s y Ãºsala
  - los mÃ©todos que querrÃ¡s usar son `getFlag`, `highNybbleOf`, `lowNybbleOf` y `buildU8`
  responses:
  - Â¿cÃ³mo puedo importar el mÃ³dulo? [import]

import:
  messages:
  - |-
    hazlo asÃ­:
      ```javascript import byte from "/lib/byte";```
  - |-
    ademÃ¡s, si lo agregas a tu objeto exportado en `index.js`...
      ```javascript import Cartridge from "./Cartridge";
      import byte from "/lib/byte";

      export default { Cartridge, byte }```
  - puedes probar la biblioteca con el comando ~repl~
  - Â¡una consola JS interactiva! ğŸ¤¯
  responses: []
