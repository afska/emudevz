---
main:
  run: |
    if (m.$end) $.goTo("exercise");
  messages:
  - los juegos se suelen preservar en formato digital con archivos de juego (tambi√©n llamados ROMs) üëæ
  - estos contienen c√≥digo, gr√°ficos y una cabecera que identifica el hardware
  responses:
  - son los famosos archivos *.neees, ¬øno? [neeesfiles]

neeesfiles:
  messages:
  - correcto, el formato se llama <iNEEES>, y deber√≠as empezar leyendo su cabecera
  - "los primeros 4 bytes de un archivo de juego siempre contienen lo siguiente:"
  - $4E $45 $53 $1A
  - que representa la secuencia ASCII del nombre de la consola ("NEEES"), pero con una sola "E"
  - esa es <la constante m√°gica> ‚ú®
  - deber√≠as buscar esos bytes para verificar si una ROM es v√°lida o no
  responses:
  - ¬øqu√© quieres que haga? [exercise]

exercise:
  messages:
  - agrega un constructor a la clase `Cartridge` que reciba los bytes de la ROM, y gu√°rdalos en una propiedad llamada `bytes`
  - si la constante m√°gica no coincide con $4E $45 $53 $1A, tira un error con el mensaje "Invalid ROM."
  responses:
  - necesito ayuda ü•∫ [help]

help:
  messages:
  - vas a recibir un `Uint8Array`, ¬°que funciona similar a los arrays comunes!
  - por lo que ```javascript bytes[0]``` representa el primer byte, ```javascript bytes[1]``` el segundo, y as√≠
  - recuerda que puedes expresar notaci√≥n hexadecimal con el prefijo ~0x~, p. ej. ~0x4e~
  - "para tirar errores, usa:\n  ```javascript throw new Error(\"un mensaje\");```"
  responses: []
