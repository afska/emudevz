---
main:
  run: |
    set((m) => m.chat.winOnEnd = true);
  messages:
  - Â¡hagamos un repaso rÃ¡pido de los canales de audio de la APU!
  - asegÃºrate de que el <volÃºmen de la mÃºsica> no estÃ© en silencio, y continÃºa
  responses:
  - â–¶ï¸  empezar [start]

start:
  run: |
    {{Background}}.loadROM("/roms/.all/SuperTiltBro.neees", "demoRom");
  messages:
  - esta es la increÃ­ble mÃºsica de ğŸ¦¸ ğŸ¤¸  <Super Tilt Bro>
  - aquÃ­ podemos ver casi todos los canales de audio en acciÃ³n
  - empecemos con los ğŸŸ¦  Canales Pulso
  responses:
  - Â¿quÃ© son los Canales Pulso? ğŸŸ¦ [pulse]

pulse:
  run: |
    if (emulation) {
      emulation.enabledChannels.pulse1 = true;
      emulation.enabledChannels.pulse2 = false;
      emulation.enabledChannels.triangle = false;
      emulation.enabledChannels.noise = false;
      emulation.enabledChannels.dmc = false;
    }
  messages:
  - son canales dedicados a producir ondas de pulso
  - hay <dos> de ellos
  - este es solo el <Pulse 1>
  responses:
  - escuchemos el <Pulse 2> ğŸ‘€ [pulse2]
  
pulse2:
  run: |
    if (emulation) {
      emulation.enabledChannels.pulse1 = false;
      emulation.enabledChannels.pulse2 = true;
      emulation.enabledChannels.triangle = false;
      emulation.enabledChannels.noise = false;
      emulation.enabledChannels.dmc = false;
    }
  messages:
  - este es el <Pulse 2>
  - crea el mismo tipo de ondas que el <Pulse 1>
  - y la magia comienza cuando suenan juntos
  responses:
  - escuchemos ambos juntos [together]

together:
  run: |
    if (emulation) {
      emulation.enabledChannels.pulse1 = true;
      emulation.enabledChannels.pulse2 = true;
      emulation.enabledChannels.triangle = false;
      emulation.enabledChannels.noise = false;
      emulation.enabledChannels.dmc = false;
    }
  messages:
  - Â¿ves?
  - estos dos canales pulso, combinados, pueden crear <melodÃ­as poderosas> ğŸ¶
  responses:
  - hay muchas cosas pasando aquÃ­ [alot]

alot:
  run: |
    {{Right}}.do((debuggerGUI) => {
      debuggerGUI.apu.selectedTab = "Pulse";
    });
  messages:
  - bueno... tienen muchas <funciones>
  - como ciclos de trabajo configurables, <desvanecimientos de volumen> y <barridos de notas>!
  responses:
  - Â¡genial! Â¿y los otros canales? [triangle]

triangle:
  run: |
    {{Right}}.do((debuggerGUI) => {
      debuggerGUI.apu.selectedTab = "Overview";
    });
    if (emulation) {
      emulation.enabledChannels.pulse1 = false;
      emulation.enabledChannels.pulse2 = false;
      emulation.enabledChannels.triangle = true;
      emulation.enabledChannels.noise = false;
      emulation.enabledChannels.dmc = false;
    }
  messages:
  - este es el ğŸ”º  Canal Triangular
  - puede producir ondas triangulares de volumen constante
  - y comÃºnmente se usa para <lÃ­neas de bajo> ğŸ¸
  responses:
  - mÃ©zclalo con la melodÃ­a principal ğŸ¶ [pulseagain]

pulseagain:
  run: |
    if (emulation) {
      emulation.enabledChannels.pulse1 = true;
      emulation.enabledChannels.pulse2 = true;
      emulation.enabledChannels.triangle = true;
      emulation.enabledChannels.noise = false;
      emulation.enabledChannels.dmc = false;
    }
  messages:
  - sÃ­
  - con esta configuraciÃ³n, tenemos melodÃ­as principales y bajo
  - ahora, lo que falta...
  responses:
  - Â¿el Canal Ruido, supongo? ğŸ’¥ [noise]

noise:
  run: |
    if (emulation) {
      emulation.enabledChannels.pulse1 = false;
      emulation.enabledChannels.pulse2 = false;
      emulation.enabledChannels.triangle = false;
      emulation.enabledChannels.noise = true;
      emulation.enabledChannels.dmc = false;
    }
  messages:
  - Â¡sÃ­!
  - el ğŸ’¥  Canal Ruido genera <ruido pseudoaleatorio>
  - tÃ­picamente se usa para ğŸ¥  <baterÃ­a> y ğŸ’¥  <efectos especiales>
  responses:
  - escuchemos tambiÃ©n el Canal Triangular ğŸ”º [addtriangle]

addtriangle:
  run: |
    if (emulation) {
      emulation.enabledChannels.pulse1 = false;
      emulation.enabledChannels.pulse2 = false;
      emulation.enabledChannels.triangle = true;
      emulation.enabledChannels.noise = true;
      emulation.enabledChannels.dmc = false;
    }
  messages:
  - ya puedo ver tu cabeza moviÃ©ndose al ritmo, Â¡vamos a combinar todos los canales de nuevo!
  responses:
  - Â¡sÃ­! ğŸ¤˜ [combined]

combined:
  run: |
    {{Right}}.do((debuggerGUI) => {
      debuggerGUI.args.readOnly = false;
    });
    if (emulation) {
      emulation.enabledChannels.pulse1 = true;
      emulation.enabledChannels.pulse2 = true;
      emulation.enabledChannels.triangle = true;
      emulation.enabledChannels.noise = true;
      emulation.enabledChannels.dmc = false;
    }
  messages:
  - como puedes ver, con algo de <creatividad>, Â¡puedes crear melodÃ­as bastante buenas combinando todos estos canales! âœ¨
  - hay un canal extra que no cubrimos aquÃ­, el ğŸ“¦  Canal DMC
  - permite a los juegos enviar sus propias ondas directamente a la APU
  - ese tendrÃ¡ un tratamiento especial mÃ¡s adelante, Â¡asÃ­ que no te preocupes por eso!
  - <activÃ© los controles> en la vista del depurador para que puedas jugar un rato
  - cuando quieras, avÃ­same y podemos volver a programar ğŸ‘€
  responses:
  - â–¶ï¸  listo, sigamos [end]
