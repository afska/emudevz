---
main:
  messages:
  - Â¿recuerdas cÃ³mo los juegos escriben en ~VRAM~?
  - <{PPUAddr_PPUData.png}>
  - ellos tambiÃ©n pueden <leer> desde ~VRAM~, leyendo de ğŸ“¦ ~PPUData~ en lugar de escribir
  - "esta operaciÃ³n tambiÃ©n incrementa la direcciÃ³n en ğŸ“ ~PPUAddr~, y tiene un pequeÃ±o truco:"
  - todas las lecturas estÃ¡n <retrasadas> por 1, excepto para la secciÃ³n ~Palette RAM~ y sus espejos
  responses:
  - Â¿cÃ³mo podemos implementar el retraso? âŒ› [delay]

delay:
  messages:
  - simple, cuando se solicita una <lectura>, lees en un buffer, pero luego devuelves el <valor anterior> de ese buffer
  - |-
    ğŸ“š  _-_implementa estos mÃ©todos en `PPUData`:_--_
    *_-_*onLoad**:_--_
      *_-_*->** inicializa ~this.buffer = 0~_--_
    *_-_*onRead()**:_--_
      *_-_*->** guarda ~this.buffer~ en una variable llamada ~data~_--_
      *_-_*->** lee desde la direcciÃ³n PPU ~ppuAddr.address~ y guarda el resultado en ~this.buffer~_--_
      *_-_*->** si la direcciÃ³n estÃ¡ entre $3F00 y $3FFF, asigna ~data = this.buffer~ (omite el buffer)_--_
      *_-_*->** llama a ~this._incrementAddress()~_--_
      *_-_*->** devuelve ~data~_--_
  responses: []
