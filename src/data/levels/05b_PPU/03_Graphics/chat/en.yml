---
main:
  run: |
    set((m) => m.chat.winOnEnd = true);
  messages:
  - a brief intro to NEEES graphics! ğŸ–Œï¸
  - all graphics are composed of ğŸ•Šï¸  tiles
  - a tile is an ~8x8~ pixel grid
  - <{tile_grayscale.png;8x8}>
  - and ~8x8~ is a really small size! so one tile usually represents a part of a bigger picture
  - they are all stored in ğŸ•Šï¸ ğŸ“–  pattern tables, inside the cartridge's ğŸ‘¾  CHR-ROM (or CHR-RAM)
  - <{tiles_grayscale.png;30x30}>
  responses:
  - what about the colors? ğŸŒˆ [colors]

colors:
  messages:
  - tiles can use 4 colors (~2~ bits per pixel), but they don't know what <actual colors> they'll have
  - they only know that a certain pixel is "color 0", "color 1", "color 2" or "color 3"
  - color is added at runtime by the use of ğŸ¨  palettes, which define what each color should be
  - "after applying a palette, tiles can look like this:"
  - <{tile.png;8x8}>
  - <{tiles.png;30x30}>
  responses:
  - so, with the use of a palette, can I apply any color? ğŸ¤” [anycolor]

anycolor:
  messages:
  - well... no ğŸ˜…
  - the NEEES can only display 64 different well-defined colors
  - <{colors.png}>
  - so each palette references entries from this catalog, known as the master palette
  responses:
  - tell me more about tiles ğŸ‘€ [moreabouttiles]

moreabouttiles:
  messages:
  - a frame is made by one ğŸï¸  background and multiple ğŸ›¸  sprites
  - <{full.png;30x30}>
  - ğŸï¸  the background is static, but games can move it through scrolling
  - <{background.png;30x30}>
  - ğŸ›¸  sprites are objects that can be easily moved or flipped, drawn on top of the background
  - <{sprites.png;30x30}>
  - both things use tiles to render
  responses:
  - ah, gotcha [enough]

enough:
  run-after-messages: |
    store.dispatch.savedata.openFile("/docs/ppu/definitions.en.md");
  messages:
  - we'll analyze the memory structures for tiles, backgrounds, and sprites later
  - but now you have an idea of how graphics are arranged on the screen âœ¨
  - "here's a summary..."
  - ğŸï¸  there's a background image
  - ğŸ›¸  there are multiple sprites
  - ğŸ•Šï¸  both use tiles to render
  - ğŸ‘¾  all tiles are in CHR-ROM or CHR-RAM, with no color
  - ğŸ¨  color is given through palettes
  - ğŸ‘‘ ğŸ¨  palettes reference entries of a fixed 64-color master palette
  - "I'll write about this, with more details, here: ğŸ“„  ~/docs/ppu/definitions.en.md~"
  responses:
  - awesome [end]
